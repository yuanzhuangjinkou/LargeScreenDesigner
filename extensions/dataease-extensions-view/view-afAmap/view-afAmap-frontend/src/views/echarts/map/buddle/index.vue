<template>
  <div id="left-of-top">
    <!-- 地图 -->
    <div class="mapbox">
      <div class="map-mask"/>
      <BMap class="map"
            :show-pipe-layer="showPipeLayer"
            :marker-list="markerList"
            @marker-click="markerClick"
            @map-click="windowClose"
            @polygon-click="windowClose"
            :company-boarder="companyBoarder"
            :highlight-company-name="highlightCompanyName"
            :other-company-boarder="otherCompanyBoarder"
      />
      <!-- 将按钮放在地图上面，z-index 设置为较大的值 -->
      <div
        style="position: absolute; top: 100px; left: 100px; background-color: pink; width: 100px; height: 50px; z-index: 100;">
        <select v-model="selectedOption" @change="handleSelectionChange">
          <option value="" disabled selected>请选择</option>
          <option value="营业厅">营业厅</option>
          <option value="气源点">气源点</option>
          <option value="分输站">分输站</option>
        </select>
      </div>
    </div>

    <!-- 弹窗 -->
    <window-info :info="infoWindow.info"></window-info>

  </div>
</template>

<script>
import {
  uuid
} from '@/utils/map'
import BMap from '../BMap';
import ViewTrackBar from '@/components/views/ViewTrackBar'

export default {
  name: "ChartComponent",
  components: {
    BMap,
    ViewTrackBar
  },
  data() {
    return {
      // 需要高亮显示的公司名
      highlightCompanyName: "",
      showPipeLayer: [],
      // 分公司范围中心和同行公司标记点
      markerList: [
        {position: [108.899303, 34.24334], type: 0, title: '西安秦华燃气集团有限公司', text: '', isShow: true},
        {position: [108.71, 34.35], type: 5, title: '陕西城燃', text: '陕西城燃', isShow: true},
        {position: [108.774094, 34.244433], type: 5, title: '丰源', text: '丰源', isShow: true},
        {position: [109.266091, 34.420246], type: 5, title: '华润', text: '华润', isShow: true},
        {position: [109.159087, 34.304597], type: 5, title: '西蓝', text: '西蓝', isShow: true},
        {position: [108.926326, 34.123063], type: 5, title: '长安', text: '长安', isShow: true},
        {position: [109.10, 34.49], type: 5, title: '通源', text: '通源', isShow: true},
        {position: [108.64, 34.08], type: 5, title: '西户', text: '西户', isShow: true},
        {position: [109.03, 34.49], type: 5, title: '陕西玉祥', text: '陕西玉祥', isShow: true},
        // {position: [109.312423, 34.201563], type: 5, title: '蓝田城燃', text: '蓝田城燃', isShow: true},
        // {position: [109.23, 34.66], type: 5, title: '中民', text: '中民', isShow: true},
        // {position: [108.33, 34.09], type: 5, title: '周至玉祥', text: '周至玉祥', isShow: true},
        // {position: [108.66, 34.20], type: 5, title: '西沣', text: '西沣', isShow: true},
        // {position: [109.26, 34.27], type: 5, title: '昱恒燃气', text: '昱恒燃气', isShow: true},
        // 分公司范围中心坐标点
        // TODO 计算范围中心点函数不显示弹窗，暂时用标记点代替
        {position: [108.82, 34.27], type: 6, title: '城西分公司', text: '城西分公司', isShow: true},
        {position: [108.98, 34.38], type: 6, title: '城北分公司', text: '城北分公司', isShow: true},
        {position: [109.08, 34.23], type: 6, title: '城东分公司', text: '城东分公司', isShow: true},
        {position: [108.94, 34.22], type: 6, title: '城南分公司', text: '城南分公司', isShow: true},
      ],
      // 秦华分公司边界
      companyBoarder: [
        // 城北
        {
          path: [
            [
              108.837276,
              34.348719
            ],
            [
              108.843444,
              34.340031
            ],
            [
              108.856968,
              34.344186
            ],
            [
              108.86255,
              34.34649
            ],
            [
              108.864053,
              34.322557
            ],
            [
              108.866844,
              34.311563
            ],
            [
              108.915794,
              34.313336
            ],
            [
              108.923523,
              34.313336
            ],
            [
              108.922879,
              34.276798
            ],
            [
              108.972902,
              34.277153
            ],
            [
              108.972044,
              34.310676
            ],
            [
              109.003593,
              34.310236
            ],
            [
              109.030353,
              34.311062
            ],
            [
              109.027569,
              34.316956
            ],
            [
              109.027221,
              34.323568
            ],
            [
              109.021129,
              34.328599
            ],
            [
              109.013471,
              34.342252
            ],
            [
              109.020433,
              34.338659
            ],
            [
              109.036619,
              34.328743
            ],
            [
              109.056286,
              34.315662
            ],
            [
              109.074386,
              34.305024
            ],
            [
              109.078563,
              34.310631
            ],
            [
              109.087962,
              34.315375
            ],
            [
              109.09526,
              34.31855
            ],
            [
              109.131086,
              34.339289
            ],
            [
              109.146365,
              34.350599
            ],
            [
              109.137584,
              34.350744
            ],
            [
              109.12652,
              34.351614
            ],
            [
              109.11528,
              34.348424
            ],
            [
              109.107026,
              34.347844
            ],
            [
              109.101933,
              34.353644
            ],
            [
              109.101933,
              34.368721
            ],
            [
              109.11247,
              34.377998
            ],
            [
              109.114929,
              34.387709
            ],
            [
              109.118266,
              34.401476
            ],
            [
              109.115456,
              34.417269
            ],
            [
              109.112295,
              34.425237
            ],
            [
              109.103514,
              34.424802
            ],
            [
              109.10088,
              34.429728
            ],
            [
              109.107377,
              34.432914
            ],
            [
              109.118266,
              34.435522
            ],
            [
              109.126696,
              34.439867
            ],
            [
              109.129857,
              34.450439
            ],
            [
              109.12371,
              34.455942
            ],
            [
              109.111944,
              34.459273
            ],
            [
              109.103865,
              34.459562
            ],
            [
              109.09245,
              34.458404
            ],
            [
              109.088586,
              34.464051
            ],
            [
              109.082439,
              34.465789
            ],
            [
              109.074185,
              34.46854
            ],
            [
              109.072078,
              34.463906
            ],
            [
              109.067687,
              34.452901
            ],
            [
              109.05153,
              34.446095
            ],
            [
              109.032212,
              34.437984
            ],
            [
              109.021675,
              34.433928
            ],
            [
              109.016757,
              34.435522
            ],
            [
              109.009908,
              34.437591
            ],
            [
              109.001654,
              34.438868
            ],
            [
              108.995817,
              34.432762
            ],
            [
              108.97916,
              34.425364
            ],
            [
              108.964211,
              34.420667
            ],
            [
              108.959513,
              34.415147
            ],
            [
              108.945418,
              34.408687
            ],
            [
              108.930043,
              34.405633
            ],
            [
              108.914667,
              34.405045
            ],
            [
              108.90043,
              34.399994
            ],
            [
              108.883773,
              34.390596
            ],
            [
              108.870959,
              34.388716
            ],
            [
              108.857292,
              34.388599
            ],
            [
              108.853875,
              34.379317
            ],
            [
              108.848038,
              34.374382
            ],
            [
              108.837645,
              34.374617
            ],
            [
              108.817998,
              34.370151
            ],
            [
              108.811877,
              34.368488
            ],
            [
              108.822037,
              34.358904
            ]
          ],
          name: '城北',
        },
        // 城东
        {
          path: [
            [
              109.016653,
              34.243018
            ],
            [
              109.016399,
              34.233566
            ],
            [
              109.031389,
              34.2155
            ],
            [
              109.034564,
              34.210457
            ],
            [
              109.03863,
              34.208251
            ],
            [
              109.041297,
              34.20573
            ],
            [
              109.04502,
              34.208113
            ],
            [
              109.049206,
              34.210557
            ],
            [
              109.048812,
              34.208562
            ],
            [
              109.047778,
              34.205833
            ],
            [
              109.048369,
              34.202575
            ],
            [
              109.049354,
              34.198258
            ],
            [
              109.051472,
              34.194252
            ],
            [
              109.053343,
              34.191727
            ],
            [
              109.056642,
              34.186187
            ],
            [
              109.059843,
              34.182277
            ],
            [
              109.060238,
              34.177347
            ],
            [
              109.060632,
              34.174943
            ],
            [
              109.061863,
              34.172906
            ],
            [
              109.064276,
              34.171114
            ],
            [
              109.066098,
              34.169443
            ],
            [
              109.06795,
              34.166876
            ],
            [
              109.070362,
              34.164424
            ],
            [
              109.072941,
              34.162495
            ],
            [
              109.081736,
              34.157631
            ],
            [
              109.081863,
              34.162451
            ],
            [
              109.080977,
              34.167899
            ],
            [
              109.07834,
              34.174006
            ],
            [
              109.07867,
              34.177671
            ],
            [
              109.086145,
              34.176145
            ],
            [
              109.086666,
              34.177307
            ],
            [
              109.087047,
              34.178741
            ],
            [
              109.087191,
              34.181684
            ],
            [
              109.086165,
              34.181892
            ],
            [
              109.084866,
              34.182157
            ],
            [
              109.083328,
              34.182504
            ],
            [
              109.082532,
              34.18329
            ],
            [
              109.081693,
              34.184192
            ],
            [
              109.081274,
              34.185684
            ],
            [
              109.082015,
              34.187198
            ],
            [
              109.083566,
              34.187811
            ],
            [
              109.084572,
              34.188077
            ],
            [
              109.085439,
              34.18825
            ],
            [
              109.086571,
              34.18788
            ],
            [
              109.086752,
              34.186643
            ],
            [
              109.088936,
              34.181857
            ],
            [
              109.090151,
              34.181801
            ],
            [
              109.091058,
              34.182837
            ],
            [
              109.09722,
              34.176577
            ],
            [
              109.10258,
              34.170689
            ],
            [
              109.106832,
              34.169618
            ],
            [
              109.109235,
              34.169771
            ],
            [
              109.110779,
              34.171248
            ],
            [
              109.112717,
              34.173134
            ],
            [
              109.113743,
              34.175021
            ],
            [
              109.116934,
              34.175956
            ],
            [
              109.123112,
              34.176452
            ],
            [
              109.132018,
              34.175554
            ],
            [
              109.136171,
              34.17439
            ],
            [
              109.138863,
              34.172782
            ],
            [
              109.139292,
              34.171083
            ],
            [
              109.140747,
              34.16902
            ],
            [
              109.143553,
              34.16859
            ],
            [
              109.145735,
              34.169966
            ],
            [
              109.146989,
              34.170892
            ],
            [
              109.148373,
              34.171762
            ],
            [
              109.150809,
              34.170021
            ],
            [
              109.152058,
              34.169818
            ],
            [
              109.153632,
              34.169838
            ],
            [
              109.155219,
              34.171125
            ],
            [
              109.161717,
              34.171271
            ],
            [
              109.166395,
              34.175724
            ],
            [
              109.172396,
              34.184413
            ],
            [
              109.173898,
              34.190619
            ],
            [
              109.181399,
              34.191001
            ],
            [
              109.192248,
              34.191956
            ],
            [
              109.193402,
              34.197492
            ],
            [
              109.191325,
              34.201311
            ],
            [
              109.1829,
              34.202361
            ],
            [
              109.174936,
              34.201692
            ],
            [
              109.171936,
              34.204365
            ],
            [
              109.179784,
              34.207992
            ],
            [
              109.186247,
              34.212001
            ],
            [
              109.18567,
              34.214578
            ],
            [
              109.178976,
              34.217155
            ],
            [
              109.166742,
              34.220877
            ],
            [
              109.156701,
              34.225362
            ],
            [
              109.153469,
              34.229847
            ],
            [
              109.153008,
              34.233854
            ],
            [
              109.154051,
              34.237852
            ],
            [
              109.151431,
              34.240945
            ],
            [
              109.148066,
              34.243316
            ],
            [
              109.131437,
              34.257608
            ],
            [
              109.117563,
              34.269219
            ],
            [
              109.100704,
              34.280974
            ],
            [
              109.088059,
              34.290696
            ],
            [
              109.07401,
              34.304769
            ],
            [
              109.056286,
              34.315662
            ],
            [
              109.036619,
              34.328743
            ],
            [
              109.013471,
              34.342252
            ],
            [
              109.021129,
              34.328599
            ],
            [
              109.027221,
              34.323568
            ],
            [
              109.027569,
              34.316956
            ],
            [
              109.030353,
              34.311062
            ],
            [
              108.972044,
              34.310676
            ],
            [
              108.972902,
              34.277153
            ],
            [
              108.972572,
              34.232726
            ],
            [
              108.996708,
              34.243123
            ]
          ],
          name: '城东',
        },
        // 城南
        {
          path: [
            [
              108.923425,
              34.23332
            ],
            [
              108.898921,
              34.202318
            ],
            [
              108.890293,
              34.189337
            ],
            [
              108.898235,
              34.188796
            ],
            [
              108.912049,
              34.189347
            ],
            [
              108.933187,
              34.187282
            ],
            [
              108.938763,
              34.187282
            ],
            [
              108.952414,
              34.188314
            ],
            [
              108.961069,
              34.187833
            ],
            [
              108.968226,
              34.186938
            ],
            [
              108.979922,
              34.187417
            ],
            [
              108.985536,
              34.188246
            ],
            [
              108.992822,
              34.191204
            ],
            [
              109.001061,
              34.195127
            ],
            [
              109.010132,
              34.199051
            ],
            [
              109.029855,
              34.204075
            ],
            [
              109.039342,
              34.205383
            ],
            [
              109.041297,
              34.20573
            ],
            [
              109.03863,
              34.208251
            ],
            [
              109.034564,
              34.210457
            ],
            [
              109.031389,
              34.2155
            ],
            [
              109.016399,
              34.233566
            ],
            [
              109.016653,
              34.243018
            ],
            [
              108.996708,
              34.243123
            ],
            [
              108.972572,
              34.232726
            ],
            [
              108.972902,
              34.277153
            ],
            [
              108.922879,
              34.276798
            ]
          ],
          name: '城南',
        },
        // 城西
        {
          path: [
            [
              108.778818,
              34.354649
            ],
            [
              108.773398,
              34.333393
            ],
            [
              108.777915,
              34.30691
            ],
            [
              108.796025,
              34.281277
            ],
            [
              108.798761,
              34.268935
            ],
            [
              108.801726,
              34.258004
            ],
            [
              108.810163,
              34.257815
            ],
            [
              108.810163,
              34.254234
            ],
            [
              108.811759,
              34.249899
            ],
            [
              108.8186,
              34.248203
            ],
            [
              108.823047,
              34.243584
            ],
            [
              108.821337,
              34.239249
            ],
            [
              108.816662,
              34.235667
            ],
            [
              108.816662,
              34.232179
            ],
            [
              108.816206,
              34.228503
            ],
            [
              108.81575,
              34.223978
            ],
            [
              108.814496,
              34.221244
            ],
            [
              108.815978,
              34.218038
            ],
            [
              108.822021,
              34.215587
            ],
            [
              108.821565,
              34.211155
            ],
            [
              108.818372,
              34.209269
            ],
            [
              108.817346,
              34.206441
            ],
            [
              108.819741,
              34.203235
            ],
            [
              108.823503,
              34.204178
            ],
            [
              108.828292,
              34.207572
            ],
            [
              108.832625,
              34.208798
            ],
            [
              108.835247,
              34.205215
            ],
            [
              108.834677,
              34.202669
            ],
            [
              108.83194,
              34.200028
            ],
            [
              108.828292,
              34.195313
            ],
            [
              108.82755,
              34.192162
            ],
            [
              108.834335,
              34.188806
            ],
            [
              108.841561,
              34.186593
            ],
            [
              108.848052,
              34.186111
            ],
            [
              108.856042,
              34.1868
            ],
            [
              108.869856,
              34.188659
            ],
            [
              108.88417,
              34.189347
            ],
            [
              108.890293,
              34.189337
            ],
            [
              108.898921,
              34.202318
            ],
            [
              108.923425,
              34.23332
            ],
            [
              108.922879,
              34.276798
            ],
            [
              108.923523,
              34.313336
            ],
            [
              108.866844,
              34.311563
            ],
            [
              108.864053,
              34.322557
            ],
            [
              108.86255,
              34.34649
            ],
            [
              108.843444,
              34.340031
            ],
            [
              108.840371,
              34.344359
            ],
            [
              108.837276,
              34.348719
            ],
            [
              108.822037,
              34.358904
            ],
            [
              108.811877,
              34.368488
            ],
            [
              108.808175,
              34.364511
            ],
            [
              108.800497,
              34.359496
            ]
          ],
          name: '城西',
        }
      ],
      // 周边其他公司区域
      otherCompanyBoarder: [
        // 丰源
        [
          [
            108.770909,
            34.333329
          ],
          [
            108.764389,
            34.331912
          ],
          [
            108.757984,
            34.332996
          ],
          [
            108.754209,
            34.333185
          ],
          [
            108.750549,
            34.33054
          ],
          [
            108.748834,
            34.326479
          ],
          [
            108.74586,
            34.322039
          ],
          [
            108.745864,
            34.318408
          ],
          [
            108.748719,
            34.316182
          ],
          [
            108.750747,
            34.314058
          ],
          [
            108.750318,
            34.311102
          ],
          [
            108.749705,
            34.309583
          ],
          [
            108.750606,
            34.306962
          ],
          [
            108.750426,
            34.304014
          ],
          [
            108.749308,
            34.301333
          ],
          [
            108.748082,
            34.29901
          ],
          [
            108.747613,
            34.296776
          ],
          [
            108.748302,
            34.294029
          ],
          [
            108.74924,
            34.292957
          ],
          [
            108.750718,
            34.293076
          ],
          [
            108.750538,
            34.292272
          ],
          [
            108.751619,
            34.29105
          ],
          [
            108.753242,
            34.289204
          ],
          [
            108.754432,
            34.287654
          ],
          [
            108.754684,
            34.285779
          ],
          [
            108.754143,
            34.283843
          ],
          [
            108.75317,
            34.282144
          ],
          [
            108.751655,
            34.280744
          ],
          [
            108.749781,
            34.279821
          ],
          [
            108.749636,
            34.279076
          ],
          [
            108.750538,
            34.27848
          ],
          [
            108.750357,
            34.277169
          ],
          [
            108.749456,
            34.274726
          ],
          [
            108.749744,
            34.270942
          ],
          [
            108.747509,
            34.267396
          ],
          [
            108.74385,
            34.263508
          ],
          [
            108.738471,
            34.259783
          ],
          [
            108.73363,
            34.256843
          ],
          [
            108.731407,
            34.255169
          ],
          [
            108.731061,
            34.253332
          ],
          [
            108.731111,
            34.249821
          ],
          [
            108.733087,
            34.245696
          ],
          [
            108.73363,
            34.239326
          ],
          [
            108.731951,
            34.234875
          ],
          [
            108.733334,
            34.232302
          ],
          [
            108.733828,
            34.228912
          ],
          [
            108.734272,
            34.225522
          ],
          [
            108.735705,
            34.222337
          ],
          [
            108.734865,
            34.220335
          ],
          [
            108.736742,
            34.218211
          ],
          [
            108.740447,
            34.216414
          ],
          [
            108.741089,
            34.212533
          ],
          [
            108.738731,
            34.210155
          ],
          [
            108.736815,
            34.208142
          ],
          [
            108.73727,
            34.205699
          ],
          [
            108.73925,
            34.203605
          ],
          [
            108.742691,
            34.200275
          ],
          [
            108.743957,
            34.197483
          ],
          [
            108.744671,
            34.195228
          ],
          [
            108.74373,
            34.191656
          ],
          [
            108.743892,
            34.189186
          ],
          [
            108.746099,
            34.186178
          ],
          [
            108.746262,
            34.182875
          ],
          [
            108.744541,
            34.17976
          ],
          [
            108.743567,
            34.177236
          ],
          [
            108.741392,
            34.174228
          ],
          [
            108.750339,
            34.173737
          ],
          [
            108.750766,
            34.169985
          ],
          [
            108.753015,
            34.166626
          ],
          [
            108.756581,
            34.166989
          ],
          [
            108.757475,
            34.168828
          ],
          [
            108.757255,
            34.170916
          ],
          [
            108.758353,
            34.170916
          ],
          [
            108.759011,
            34.172005
          ],
          [
            108.760273,
            34.172913
          ],
          [
            108.761919,
            34.173549
          ],
          [
            108.762029,
            34.176771
          ],
          [
            108.764333,
            34.17609
          ],
          [
            108.767515,
            34.176317
          ],
          [
            108.764552,
            34.17836
          ],
          [
            108.767241,
            34.180992
          ],
          [
            108.769545,
            34.183988
          ],
          [
            108.774263,
            34.186484
          ],
          [
            108.777884,
            34.189888
          ],
          [
            108.780792,
            34.190886
          ],
          [
            108.782712,
            34.190115
          ],
          [
            108.783645,
            34.188435
          ],
          [
            108.78551,
            34.186393
          ],
          [
            108.788034,
            34.184487
          ],
          [
            108.791216,
            34.186348
          ],
          [
            108.793081,
            34.189071
          ],
          [
            108.793685,
            34.190841
          ],
          [
            108.795605,
            34.192928
          ],
          [
            108.802476,
            34.194089
          ],
          [
            108.802512,
            34.192473
          ],
          [
            108.800927,
            34.190387
          ],
          [
            108.80126,
            34.188675
          ],
          [
            108.805016,
            34.188061
          ],
          [
            108.809576,
            34.193566
          ],
          [
            108.818916,
            34.193566
          ],
          [
            108.823275,
            34.19386
          ],
          [
            108.828292,
            34.195313
          ],
          [
            108.834677,
            34.202669
          ],
          [
            108.835247,
            34.205215
          ],
          [
            108.832625,
            34.208798
          ],
          [
            108.828292,
            34.207572
          ],
          [
            108.823503,
            34.204178
          ],
          [
            108.819741,
            34.203235
          ],
          [
            108.817346,
            34.206441
          ],
          [
            108.818372,
            34.209269
          ],
          [
            108.821565,
            34.211155
          ],
          [
            108.822021,
            34.215587
          ],
          [
            108.815978,
            34.218038
          ],
          [
            108.814496,
            34.221244
          ],
          [
            108.81575,
            34.223978
          ],
          [
            108.816662,
            34.235667
          ],
          [
            108.821337,
            34.239249
          ],
          [
            108.823047,
            34.243584
          ],
          [
            108.8186,
            34.248203
          ],
          [
            108.811759,
            34.249899
          ],
          [
            108.810163,
            34.254234
          ],
          [
            108.810163,
            34.257815
          ],
          [
            108.801726,
            34.258004
          ],
          [
            108.796025,
            34.281277
          ],
          [
            108.777915,
            34.30691
          ],
          [
            108.773398,
            34.333393
          ],
          [
            108.778818,
            34.354649
          ]
        ],
        // 长安
        [
          [
            109.106832,
            34.169618
          ],
          [
            109.10258,
            34.170689
          ],
          [
            109.09675,
            34.177054
          ],
          [
            109.091058,
            34.182837
          ],
          [
            109.090151,
            34.181801
          ],
          [
            109.088936,
            34.181857
          ],
          [
            109.086752,
            34.186643
          ],
          [
            109.086571,
            34.18788
          ],
          [
            109.085439,
            34.18825
          ],
          [
            109.083566,
            34.187811
          ],
          [
            109.082015,
            34.187198
          ],
          [
            109.081274,
            34.185684
          ],
          [
            109.081693,
            34.184192
          ],
          [
            109.083328,
            34.182504
          ],
          [
            109.087191,
            34.181684
          ],
          [
            109.087047,
            34.178741
          ],
          [
            109.086145,
            34.176145
          ],
          [
            109.07867,
            34.177671
          ],
          [
            109.07834,
            34.174006
          ],
          [
            109.080977,
            34.167899
          ],
          [
            109.081863,
            34.162451
          ],
          [
            109.081736,
            34.157631
          ],
          [
            109.075096,
            34.161303
          ],
          [
            109.072207,
            34.163044
          ],
          [
            109.070362,
            34.164424
          ],
          [
            109.06795,
            34.166876
          ],
          [
            109.066098,
            34.169443
          ],
          [
            109.064276,
            34.171114
          ],
          [
            109.061863,
            34.172906
          ],
          [
            109.060632,
            34.174943
          ],
          [
            109.060171,
            34.178185
          ],
          [
            109.059843,
            34.182277
          ],
          [
            109.056642,
            34.186187
          ],
          [
            109.053343,
            34.191727
          ],
          [
            109.051472,
            34.194252
          ],
          [
            109.049354,
            34.198258
          ],
          [
            109.047778,
            34.205833
          ],
          [
            109.049206,
            34.210557
          ],
          [
            109.041297,
            34.20573
          ],
          [
            109.029855,
            34.204075
          ],
          [
            109.021526,
            34.201953
          ],
          [
            109.010132,
            34.199051
          ],
          [
            109.008136,
            34.198188
          ],
          [
            109.004316,
            34.196535
          ],
          [
            109.000509,
            34.194864
          ],
          [
            108.992822,
            34.191204
          ],
          [
            108.985536,
            34.188246
          ],
          [
            108.979922,
            34.187417
          ],
          [
            108.968226,
            34.186938
          ],
          [
            108.961069,
            34.187833
          ],
          [
            108.952414,
            34.188314
          ],
          [
            108.938763,
            34.187282
          ],
          [
            108.933187,
            34.187282
          ],
          [
            108.912049,
            34.189347
          ],
          [
            108.898235,
            34.188796
          ],
          [
            108.890293,
            34.189337
          ],
          [
            108.881673,
            34.189227
          ],
          [
            108.868728,
            34.188507
          ],
          [
            108.856042,
            34.1868
          ],
          [
            108.848052,
            34.186111
          ],
          [
            108.841561,
            34.186593
          ],
          [
            108.833608,
            34.189166
          ],
          [
            108.82755,
            34.192162
          ],
          [
            108.828292,
            34.195313
          ],
          [
            108.823275,
            34.19386
          ],
          [
            108.809576,
            34.193566
          ],
          [
            108.805016,
            34.188061
          ],
          [
            108.80126,
            34.188675
          ],
          [
            108.800927,
            34.190387
          ],
          [
            108.802512,
            34.192473
          ],
          [
            108.802476,
            34.194089
          ],
          [
            108.795605,
            34.192928
          ],
          [
            108.793685,
            34.190841
          ],
          [
            108.793081,
            34.189071
          ],
          [
            108.791216,
            34.186348
          ],
          [
            108.788034,
            34.184487
          ],
          [
            108.78551,
            34.186393
          ],
          [
            108.783645,
            34.188435
          ],
          [
            108.782712,
            34.190115
          ],
          [
            108.780792,
            34.190886
          ],
          [
            108.777884,
            34.189888
          ],
          [
            108.774263,
            34.186484
          ],
          [
            108.769545,
            34.183988
          ],
          [
            108.767241,
            34.180992
          ],
          [
            108.764552,
            34.17836
          ],
          [
            108.767515,
            34.176317
          ],
          [
            108.764333,
            34.17609
          ],
          [
            108.762029,
            34.176771
          ],
          [
            108.761919,
            34.173549
          ],
          [
            108.760273,
            34.172913
          ],
          [
            108.759011,
            34.172005
          ],
          [
            108.758353,
            34.170916
          ],
          [
            108.757255,
            34.170916
          ],
          [
            108.757475,
            34.168828
          ],
          [
            108.756581,
            34.166989
          ],
          [
            108.753015,
            34.166626
          ],
          [
            108.750766,
            34.169985
          ],
          [
            108.750339,
            34.173737
          ],
          [
            108.741392,
            34.174228
          ],
          [
            108.729542,
            34.17241
          ],
          [
            108.716614,
            34.173467
          ],
          [
            108.707894,
            34.174462
          ],
          [
            108.704437,
            34.178628
          ],
          [
            108.698574,
            34.180307
          ],
          [
            108.694966,
            34.184038
          ],
          [
            108.690456,
            34.184162
          ],
          [
            108.68309,
            34.184909
          ],
          [
            108.682563,
            34.183105
          ],
          [
            108.684969,
            34.179996
          ],
          [
            108.688426,
            34.177074
          ],
          [
            108.690381,
            34.175581
          ],
          [
            108.690681,
            34.174213
          ],
          [
            108.689554,
            34.172534
          ],
          [
            108.686923,
            34.171663
          ],
          [
            108.69474,
            34.167559
          ],
          [
            108.691659,
            34.161899
          ],
          [
            108.691659,
            34.15655
          ],
          [
            108.686171,
            34.153502
          ],
          [
            108.681135,
            34.150081
          ],
          [
            108.686472,
            34.146038
          ],
          [
            108.692108,
            34.13378
          ],
          [
            108.697219,
            34.126271
          ],
          [
            108.710316,
            34.115252
          ],
          [
            108.728223,
            34.104667
          ],
          [
            108.746087,
            34.100255
          ],
          [
            108.764152,
            34.097299
          ],
          [
            108.773384,
            34.091432
          ],
          [
            108.778966,
            34.084853
          ],
          [
            108.787622,
            34.08125
          ],
          [
            108.796786,
            34.080052
          ],
          [
            108.825191,
            34.072907
          ],
          [
            108.84293,
            34.07272
          ],
          [
            108.859738,
            34.074357
          ],
          [
            108.87473,
            34.073776
          ],
          [
            108.896904,
            34.069791
          ],
          [
            108.920205,
            34.061447
          ],
          [
            108.928699,
            34.060077
          ],
          [
            108.939598,
            34.060015
          ],
          [
            108.95726,
            34.056198
          ],
          [
            108.972758,
            34.051988
          ],
          [
            108.991907,
            34.053228
          ],
          [
            109.029034,
            34.057251
          ],
          [
            109.046311,
            34.053041
          ],
          [
            109.06646,
            34.050223
          ],
          [
            109.086581,
            34.053567
          ],
          [
            109.1003,
            34.054304
          ],
          [
            109.115925,
            34.054514
          ],
          [
            109.139172,
            34.05904
          ],
          [
            109.153654,
            34.060303
          ],
          [
            109.168517,
            34.064723
          ],
          [
            109.194305,
            34.06567
          ],
          [
            109.215139,
            34.074193
          ],
          [
            109.209358,
            34.080281
          ],
          [
            109.20707,
            34.087575
          ],
          [
            109.198149,
            34.09269
          ],
          [
            109.190518,
            34.101186
          ],
          [
            109.17779,
            34.105855
          ],
          [
            109.171156,
            34.112862
          ],
          [
            109.160633,
            34.115135
          ],
          [
            109.168068,
            34.122994
          ],
          [
            109.173649,
            34.132113
          ],
          [
            109.166695,
            34.149597
          ],
          [
            109.153632,
            34.169838
          ],
          [
            109.152058,
            34.169818
          ],
          [
            109.150809,
            34.170021
          ],
          [
            109.148373,
            34.171762
          ],
          [
            109.146989,
            34.170892
          ],
          [
            109.145735,
            34.169966
          ],
          [
            109.143553,
            34.16859
          ],
          [
            109.140747,
            34.16902
          ],
          [
            109.139292,
            34.171083
          ],
          [
            109.138863,
            34.172782
          ],
          [
            109.136171,
            34.17439
          ],
          [
            109.132018,
            34.175554
          ],
          [
            109.123112,
            34.176452
          ],
          [
            109.116934,
            34.175956
          ],
          [
            109.113743,
            34.175021
          ],
          [
            109.112717,
            34.173134
          ],
          [
            109.109235,
            34.169771
          ]
        ],
        // 右下未知
        [
          [
            109.26656,
            34.308148
          ],
          [
            109.151431,
            34.240945
          ],
          [
            109.154051,
            34.237852
          ],
          [
            109.153008,
            34.233854
          ],
          [
            109.153469,
            34.229847
          ],
          [
            109.156701,
            34.225362
          ],
          [
            109.166742,
            34.220877
          ],
          [
            109.18567,
            34.214578
          ],
          [
            109.186247,
            34.212001
          ],
          [
            109.179784,
            34.207992
          ],
          [
            109.171936,
            34.204365
          ],
          [
            109.174936,
            34.201692
          ],
          [
            109.1829,
            34.202361
          ],
          [
            109.191325,
            34.201311
          ],
          [
            109.193402,
            34.197492
          ],
          [
            109.192248,
            34.191956
          ],
          [
            109.173898,
            34.190619
          ],
          [
            109.172396,
            34.184413
          ],
          [
            109.166395,
            34.175724
          ],
          [
            109.161717,
            34.171271
          ],
          [
            109.155219,
            34.171125
          ],
          [
            109.153632,
            34.169838
          ],
          [
            109.166695,
            34.149597
          ],
          [
            109.173649,
            34.132113
          ],
          [
            109.168068,
            34.122994
          ],
          [
            109.160633,
            34.115135
          ],
          [
            109.171156,
            34.112862
          ],
          [
            109.17779,
            34.105855
          ],
          [
            109.190518,
            34.101186
          ],
          [
            109.198149,
            34.09269
          ],
          [
            109.20707,
            34.087575
          ],
          [
            109.209358,
            34.080281
          ],
          [
            109.215139,
            34.074193
          ],
          [
            109.221152,
            34.075703
          ],
          [
            109.227704,
            34.075477
          ],
          [
            109.23735,
            34.073517
          ],
          [
            109.246359,
            34.073065
          ],
          [
            109.251455,
            34.073894
          ],
          [
            109.259736,
            34.077135
          ],
          [
            109.266834,
            34.079095
          ],
          [
            109.277117,
            34.083994
          ],
          [
            109.288947,
            34.086255
          ],
          [
            109.299138,
            34.088742
          ],
          [
            109.313789,
            34.096579
          ],
          [
            109.325164,
            34.100273
          ],
          [
            109.332899,
            34.103361
          ],
          [
            109.33753,
            34.107734
          ],
          [
            109.342626,
            34.116473
          ],
          [
            109.346539,
            34.122651
          ],
          [
            109.350088,
            34.126116
          ],
          [
            109.355366,
            34.130636
          ],
          [
            109.359825,
            34.138243
          ],
          [
            109.363829,
            34.146754
          ],
          [
            109.366613,
            34.157017
          ],
          [
            109.385028,
            34.157328
          ],
          [
            109.402516,
            34.158374
          ],
          [
            109.425062,
            34.170927
          ],
          [
            109.45751,
            34.185046
          ],
          [
            109.475842,
            34.195155
          ],
          [
            109.487641,
            34.198989
          ],
          [
            109.489709,
            34.205037
          ],
          [
            109.494546,
            34.218763
          ],
          [
            109.501758,
            34.231572
          ],
          [
            109.504235,
            34.238218
          ],
          [
            109.512078,
            34.24343
          ],
          [
            109.5262,
            34.252822
          ],
          [
            109.526231,
            34.258942
          ],
          [
            109.523616,
            34.264535
          ],
          [
            109.52577,
            34.271398
          ],
          [
            109.530998,
            34.274575
          ],
          [
            109.537304,
            34.275719
          ],
          [
            109.544532,
            34.276863
          ],
          [
            109.549454,
            34.279023
          ],
          [
            109.555298,
            34.29046
          ],
          [
            109.558374,
            34.298083
          ],
          [
            109.557605,
            34.307865
          ],
          [
            109.562834,
            34.321457
          ],
          [
            109.482681,
            34.336083
          ],
          [
            109.345629,
            34.323749
          ]
        ],
        // 西蓝
        [
          [
            109.171474,
            34.355403
          ],
          [
            109.146365,
            34.350599
          ],
          [
            109.131086,
            34.339289
          ],
          [
            109.09526,
            34.31855
          ],
          [
            109.078563,
            34.310631
          ],
          [
            109.074386,
            34.305024
          ],
          [
            109.088059,
            34.290696
          ],
          [
            109.114673,
            34.271234
          ],
          [
            109.151431,
            34.240945
          ],
          [
            109.26656,
            34.308148
          ],
          [
            109.345629,
            34.323749
          ],
          [
            109.373794,
            34.326284
          ],
          [
            109.363876,
            34.339435
          ],
          [
            109.359137,
            34.347616
          ],
          [
            109.345351,
            34.347082
          ],
          [
            109.325749,
            34.345304
          ],
          [
            109.302485,
            34.34068
          ],
          [
            109.277883,
            34.335484
          ],
          [
            109.249019,
            34.333527
          ],
          [
            109.216021,
            34.335025
          ],
          [
            109.216021,
            34.335025
          ],
          [
            109.179444,
            34.341887
          ],
          [
            109.173197,
            34.348111
          ]
        ],
        // 华润
        [
          [
            109.13623,
            34.456163
          ],
          [
            109.129857,
            34.450439
          ],
          [
            109.126696,
            34.439867
          ],
          [
            109.118266,
            34.435522
          ],
          [
            109.107377,
            34.432914
          ],
          [
            109.10088,
            34.429728
          ],
          [
            109.103514,
            34.424802
          ],
          [
            109.112295,
            34.425237
          ],
          [
            109.115456,
            34.417269
          ],
          [
            109.118266,
            34.401476
          ],
          [
            109.11247,
            34.377998
          ],
          [
            109.101933,
            34.368721
          ],
          [
            109.101933,
            34.353644
          ],
          [
            109.107026,
            34.347844
          ],
          [
            109.11528,
            34.348424
          ],
          [
            109.12652,
            34.351614
          ],
          [
            109.137584,
            34.350744
          ],
          [
            109.146365,
            34.350599
          ],
          [
            109.171474,
            34.355403
          ],
          [
            109.173197,
            34.348111
          ],
          [
            109.179444,
            34.341887
          ],
          [
            109.216021,
            34.335025
          ],
          [
            109.249019,
            34.333527
          ],
          [
            109.277883,
            34.335484
          ],
          [
            109.325749,
            34.345304
          ],
          [
            109.345351,
            34.347082
          ],
          [
            109.359137,
            34.347616
          ],
          [
            109.363876,
            34.339435
          ],
          [
            109.373794,
            34.326284
          ],
          [
            109.482681,
            34.336083
          ],
          [
            109.562834,
            34.321457
          ],
          [
            109.486622,
            34.475096
          ],
          [
            109.466286,
            34.48121
          ],
          [
            109.44308,
            34.481999
          ],
          [
            109.432075,
            34.484759
          ],
          [
            109.421049,
            34.482205
          ],
          [
            109.384319,
            34.482268
          ],
          [
            109.369699,
            34.481232
          ],
          [
            109.352468,
            34.49592
          ],
          [
            109.332287,
            34.508015
          ],
          [
            109.314695,
            34.512688
          ],
          [
            109.296493,
            34.513588
          ],
          [
            109.277199,
            34.509689
          ],
          [
            109.260817,
            34.514788
          ],
          [
            109.237882,
            34.524387
          ],
          [
            109.205482,
            34.541781
          ],
          [
            109.18364,
            34.546878
          ],
          [
            109.163539,
            34.543838
          ],
          [
            109.147353,
            34.544888
          ],
          [
            109.13618,
            34.544159
          ],
          [
            109.145749,
            34.490147
          ],
          [
            109.148939,
            34.464512
          ],
          [
            109.148319,
            34.455737
          ],
          [
            109.143773,
            34.453607
          ]
        ],
        // 通源
        [
          [
            109.024775,
            34.56607
          ],
          [
            109.000338,
            34.569104
          ],
          [
            108.970277,
            34.56048
          ],
          [
            108.953124,
            34.558737
          ],
          [
            108.965041,
            34.526289
          ],
          [
            108.969114,
            34.507273
          ],
          [
            108.982496,
            34.480419
          ],
          [
            108.983852,
            34.471212
          ],
          [
            108.980183,
            34.463546
          ],
          [
            108.973642,
            34.45645
          ],
          [
            108.974674,
            34.445662
          ],
          [
            108.976196,
            34.424433
          ],
          [
            108.995817,
            34.432762
          ],
          [
            109.001654,
            34.438868
          ],
          [
            109.009908,
            34.437591
          ],
          [
            109.021675,
            34.433928
          ],
          [
            109.067687,
            34.452901
          ],
          [
            109.074185,
            34.46854
          ],
          [
            109.088586,
            34.464051
          ],
          [
            109.09245,
            34.458404
          ],
          [
            109.103865,
            34.459562
          ],
          [
            109.111944,
            34.459273
          ],
          [
            109.12371,
            34.455942
          ],
          [
            109.129857,
            34.450439
          ],
          [
            109.13623,
            34.456163
          ],
          [
            109.143773,
            34.453607
          ],
          [
            109.148319,
            34.455737
          ],
          [
            109.148939,
            34.464512
          ],
          [
            109.144795,
            34.495534
          ],
          [
            109.13618,
            34.544159
          ],
          [
            109.110498,
            34.546743
          ],
          [
            109.091104,
            34.552813
          ],
          [
            109.058133,
            34.557126
          ],
          [
            109.040485,
            34.563834
          ]
        ],
        // 咸阳
        [
          [
            108.678796,
            34.494778
          ],
          [
            108.640039,
            34.48058
          ],
          [
            108.605828,
            34.459082
          ],
          [
            108.583339,
            34.436394
          ],
          [
            108.565629,
            34.41251
          ],
          [
            108.54338,
            34.393363
          ],
          [
            108.54003,
            34.36177
          ],
          [
            108.53692,
            34.34518
          ],
          [
            108.541944,
            34.327993
          ],
          [
            108.550364,
            34.283446
          ],
          [
            108.569859,
            34.268895
          ],
          [
            108.581337,
            34.266816
          ],
          [
            108.597216,
            34.267986
          ],
          [
            108.611052,
            34.264347
          ],
          [
            108.62873,
            34.250998
          ],
          [
            108.650968,
            34.244148
          ],
          [
            108.686814,
            34.200649
          ],
          [
            108.68309,
            34.184909
          ],
          [
            108.694966,
            34.184038
          ],
          [
            108.698574,
            34.180307
          ],
          [
            108.704437,
            34.178628
          ],
          [
            108.707894,
            34.174462
          ],
          [
            108.729542,
            34.17241
          ],
          [
            108.741392,
            34.174228
          ],
          [
            108.743567,
            34.177236
          ],
          [
            108.746262,
            34.182875
          ],
          [
            108.746099,
            34.186178
          ],
          [
            108.743892,
            34.189186
          ],
          [
            108.74373,
            34.191656
          ],
          [
            108.744671,
            34.195228
          ],
          [
            108.742691,
            34.200275
          ],
          [
            108.73727,
            34.205699
          ],
          [
            108.736815,
            34.208142
          ],
          [
            108.741089,
            34.212533
          ],
          [
            108.740447,
            34.216414
          ],
          [
            108.736742,
            34.218211
          ],
          [
            108.734865,
            34.220335
          ],
          [
            108.735705,
            34.222337
          ],
          [
            108.734272,
            34.225522
          ],
          [
            108.733334,
            34.232302
          ],
          [
            108.731951,
            34.234875
          ],
          [
            108.73363,
            34.239326
          ],
          [
            108.733087,
            34.245696
          ],
          [
            108.731111,
            34.249821
          ],
          [
            108.731061,
            34.253332
          ],
          [
            108.731407,
            34.255169
          ],
          [
            108.74385,
            34.263508
          ],
          [
            108.747509,
            34.267396
          ],
          [
            108.749744,
            34.270942
          ],
          [
            108.749456,
            34.274726
          ],
          [
            108.750357,
            34.277169
          ],
          [
            108.750538,
            34.27848
          ],
          [
            108.749636,
            34.279076
          ],
          [
            108.749781,
            34.279821
          ],
          [
            108.751655,
            34.280744
          ],
          [
            108.75317,
            34.282144
          ],
          [
            108.754143,
            34.283843
          ],
          [
            108.754684,
            34.285779
          ],
          [
            108.754432,
            34.287654
          ],
          [
            108.750538,
            34.292272
          ],
          [
            108.750718,
            34.293076
          ],
          [
            108.74924,
            34.292957
          ],
          [
            108.748302,
            34.294029
          ],
          [
            108.747613,
            34.296776
          ],
          [
            108.748082,
            34.29901
          ],
          [
            108.750426,
            34.304014
          ],
          [
            108.750606,
            34.306962
          ],
          [
            108.749705,
            34.309583
          ],
          [
            108.750318,
            34.311102
          ],
          [
            108.750747,
            34.314058
          ],
          [
            108.745864,
            34.318408
          ],
          [
            108.74586,
            34.322039
          ],
          [
            108.748834,
            34.326479
          ],
          [
            108.750549,
            34.33054
          ],
          [
            108.754209,
            34.333185
          ],
          [
            108.757984,
            34.332996
          ],
          [
            108.764389,
            34.331912
          ],
          [
            108.770909,
            34.333329
          ],
          [
            108.778818,
            34.354649
          ],
          [
            108.800497,
            34.359496
          ],
          [
            108.808175,
            34.364511
          ],
          [
            108.811877,
            34.368488
          ],
          [
            108.837645,
            34.374617
          ],
          [
            108.848038,
            34.374382
          ],
          [
            108.853875,
            34.379317
          ],
          [
            108.857292,
            34.388599
          ],
          [
            108.870959,
            34.388716
          ],
          [
            108.883773,
            34.390596
          ],
          [
            108.90043,
            34.399994
          ],
          [
            108.914667,
            34.405045
          ],
          [
            108.930043,
            34.405633
          ],
          [
            108.945418,
            34.408687
          ],
          [
            108.959513,
            34.415147
          ],
          [
            108.964211,
            34.420667
          ],
          [
            108.976196,
            34.424433
          ],
          [
            108.973642,
            34.45645
          ],
          [
            108.980183,
            34.463546
          ],
          [
            108.983852,
            34.471212
          ],
          [
            108.982496,
            34.480419
          ],
          [
            108.969114,
            34.507273
          ],
          [
            108.965041,
            34.526289
          ],
          [
            108.953124,
            34.558737
          ],
          [
            108.92218,
            34.556507
          ],
          [
            108.883365,
            34.552178
          ],
          [
            108.846975,
            34.553177
          ],
          [
            108.817055,
            34.551512
          ],
          [
            108.789157,
            34.54252
          ],
          [
            108.752767,
            34.512207
          ],
          [
            108.709505,
            34.50521
          ]
        ]
      ],
      // 弹窗
      infoWindow: {
        window: new AMap.InfoWindow({
          isCustom: true,
          autoMove: false,
          offset: new AMap.Pixel(56, 90),
          closeWhenClickMap: false
        }),
        info: {
          branchName: '分公司',
          residentsCount: 0,
          nonResidentCount: 0,
          pipelineLength: 0
        },
      },


      selectedOption: '',
      iconSize: [83, 64],
      iconSizemax: [83, 64],
      elasticMarker: [],
      polylinePath: [],
      showPipe: ['HP'],
      center: [108.63, 34.46],
      mapZoom: 11.21,

      myChart: {},
      chartId: uuid(),
      pointParam: null,
    }
  },
  methods: {
    async markerClick(e) {
      // 获取点击的点的名称,用来判断是否需要显示弹窗
      let name = e.target.De.title
      if(name.includes('分公司')) {
        // 请求数据
        const params = {
          tableName: 'T_CUSTOMER_DATA_STATISTICS',
          condition: `F_DEPNAME = '${name}'`
        }
        await currentPOST('commonQuery', params).then(res => {
          this.infoWindow.info.branchName = name;
          this.infoWindow.info.residentsCount = res[0].f_resident;
          this.infoWindow.info.nonResidentCount = res[0].f_business;
          this.infoWindow.info.pipelineLength = res[0].f_high_pressure + res[0].f_medium_pressure + res[0].f_low_pressure;
        })

        // 遍历标记点隐藏被点击的
        this.markerList.forEach(item => item.isShow = item.title !== name)

        // 打开弹窗
        this.infoWindow.window.setContent(
          document.getElementById("homeWindowInfo")
        );
        this.infoWindow.window.open(
          e.target.getMap(),
          e.target.getPosition()
        );
        e.target.getMap().setCenter(e.lnglat.offset(0, 0))
      }
    },
    // 地图点击事件
    windowClose () {
      // 遍历标记点显示被隐藏的
      this.markerList.forEach(item => item.isShow = true)
      // 关闭弹窗
      this.infoWindow.window.close()
    },

    // 测试下拉框
    handleSelectionChange() {
      console.log('select_', this.selectedOption)
      if (this.trackMenu.length < 2) {
        console.log('trackMenu_1', this.trackMenu)
        console.log('< 2')
        // this.trackClick(this.trackMenu[0])
        this.trackClick('linkage')
      }
      // else {
      //   console.log('> 2')
      //   that.trackBarStyle.left = param.event.offsetX + 'px'
      //   that.trackBarStyle.top = (param.event.offsetY - 15) + 'px'
      //   that.$refs.viewTrack.trackButtonClick()
      // }
    },
    stationClick(val) {
      console.log("首页地图要显示的坐标", val);
      this.elasticMarker = [];
      this.starPush();
      for (let i = 0; i < val.length; i++) {
        if (val[i] === "分输站") {
          console.log("首页地图要显示坐标", val[i]);
          this.fszPush();
          this.center = [108.6688, 34.5658];
          this.mapZoom = 10;
        } else if (val[i] === "营业厅") {
          this.yytPush();
          this.center = [108.6512, 34.3363];
          this.mapZoom = 14.22;
        }
      }
    },

    trackClick(trackAction) {
      console.log('trackClick_', trackAction)

      let id = null;
      this.chart.data.sourceFields.forEach(field => {
        if (field.originName === 'province') {
          id = field.id;
        }
      });
      const linkageParam = {
        option: 'linkage',
        viewId: this.chart.id,
        dimensionList: [{
          id: id,
          value: this.selectedOption
        }],
        quotaList: []
      }
      switch (trackAction) {
        case 'drill':
          this.$emit('onChartClick', this.pointParam)
          break
        case 'linkage':
          this.$emit('plugin-call-back', {
            eventName: 'plugin-add-view-track-filter',
            eventParam: linkageParam
          })
          break
        case 'jump':
          this.$emit('plugin-call-back', {
            eventName: 'plugin-jump-click',
            eventParam: jumpParam
          })
          break
        default:
          break
      }
    },

  },
  async mounted() {
    var map = this.$refs.bmap.map;
    console.log('map', map)
    // map.setPitch(60);
    map.setZoom(11.0);
    map.setCenter(this.center);
    // this.map.setMapStyle("amap://styles/dfb4b8d0a013071e535e04f4eaf96ce4");
    this.elasticMarker = [];
    this.starPush();
    // this.fszPush()

    this.showPipe = ["HP"];
  },
  // 启动项目需要注释 props, computed
  // props: {
  //   obj: {
  //     type: Object,
  //     required: true
  //   }
  // },
  // computed: {
  //   trackBarStyleTime() {
  //     return this.trackBarStyle
  //   },
  //   active() {
  //     return this.obj.active
  //   },
  //   chart() {
  //     return this.obj.chart
  //   },
  //   filter() {
  //     return this.obj.filter || {}
  //   },
  //   trackMenu() {
  //     console.log('trackMenu_', this.obj.trackMenu)
  //     return this.obj.trackMenu || ['drill']
  //   },
  //   searchCount() {
  //     return this.obj.searchCount || 0
  //   },
  //   terminalType() {
  //     return this.obj.terminalType || 'pc'
  //   }
  //
  // },
  watch: {
    active: {
      handler(newVal, oldVla) {
        console.log('this.active', JSON.stringify(this.active))
        this.scrollStatusChange(newVal)
      }
    },
    chart: {
      handler(newVal, oldVal) {
        console.log('this.chart', JSON.stringify(this.chart))
        if (this.chart) {
          const val = this.chart.data.x;
          // this.stationClick(val)
        }
      },
      deep: true
    }
  },
}
</script>

<style lang="scss" scoped>
#left-of-top {
  width: 3700px;
  height: 2023px;
  overflow: hidden;
  // margin-left: -68px;

  .mapbox {
    .map-mask {
      height: 4000px;
      width: 1000px;
      left: 56%;
      top: -20%;
      position: absolute;
      z-index: 2;
      filter: blur(200px);
      background-color: rgb(4, 20, 25);
    }

    .map {
      z-index: 1;
    }
  }
}

</style>

